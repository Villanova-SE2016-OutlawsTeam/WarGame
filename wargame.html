<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>War Game</title>
</head>
<body>

<h1>War Game</h1>

<table>
    <tr>
        <td>
            <img onclick="cardClick('player1')" src="card_images/backface.png">
        </td>
        <td>
            <img onclick="cardClick('player2')" src="card_images/backface.png">
        </td>
    </tr>

    <tr>
        <td id="player1">
            
        </td>
        <td id="player2">
            
        </td>
    </tr>    

</table>

<script src="Deck.js"></script>
<script type="text/javascript">

p1 = new Player(PlayerInfo.HUMAN, PlayerInfo.PLAYER1)
p2 = new Player(PlayerInfo.COMPUTER, PlayerInfo.PLAYER2)

starting_deck = new Deck()
starting_deck.create_deck()
starting_deck.shuffle()

console.log(starting_deck.count())
var deck_count = starting_deck.count()

for (var i = 0; i < deck_count; i++) {
    card = starting_deck.pop()

    if (i % 2 == 0) {
        p1.active_deck.add(card)
    } else {
        p2.active_deck.add(card)
    }
}

function cardClick(playerNumber){

    var imageTag = ""
    var image_dir="card_images/"
    
    if(playerNumber == PlayerInfo.PLAYER1){
        var card = p1.active_deck.pop()
        if(card){
            var card_img_file = image_dir + card.id + ".png"
            var imageTag = "<img src='" + card_img_file + "' />"
            document.getElementById(PlayerInfo.PLAYER1).innerHTML = imageTag
        }
    } else {
        var card = p2.active_deck.pop()
        if(card){
            var card_img_file = image_dir + card.id + ".png"
            var imageTag = "<img src='" + card_img_file + "' />"
            document.getElementById(PlayerInfo.PLAYER2).innerHTML = imageTag
        }
    }
}



</script>

</body>
</html>